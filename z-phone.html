<!--
  # phone

  手机壳

  ## Attributes

  * `innerwidth`: 根据手机内容需要的宽度适配手机壳的大小

  ## Example

  ```
  <z-phone>
    ...
  </z-phone>
  ```
-->

<link rel="import" href="http://g.tbcdn.cn/mtb/lib-3rd/polymer/polymer.html">

<polymer-element name="z-phone" attributes="innerwidth">

  <template>
    <style>
      :host {display: block;}
      #background {min-width: 180px; height: 333px; box-sizing: border-box; margin: auto; background: transparent url(phone.png) no-repeat center center; background-size: contain;}
      #scroller {overflow: auto;}
    </style>
    <div id="background" layout vertical style="{{bgStyle}}">
      <div id="scroller" flex>
        <content></content>
      </div>
    </div>
  </template>

  <script>

    Polymer('z-phone', {
      WIDTH: 360,
      HEIGHT: 665,
      TOP: 48,
      SIDE: 20,
      BOTTOM: 57,
      innerwidth: 320,
      calcBgStyle: function (innerwidth) {
        var top = 0;
        var bottom = 0;
        var side = 0;
        var width = this.WIDTH;
        var height = this.HEIGHT;
        var scale = innerwidth / (this.WIDTH - this.SIDE * 2);
        width = this.WIDTH * scale;
        height = this.HEIGHT * scale;
        top = this.TOP * scale;
        bottom = this.BOTTOM * scale;
        side = this.SIDE * scale;
        return 'width:' + width + 'px; height:' + height + 'px; padding: ' + top + 'px ' + side + 'px ' + bottom + 'px';
      },
      computed: {
        bgStyle: 'calcBgStyle(innerwidth)'
      }
    });

  </script>

</polymer-element>

